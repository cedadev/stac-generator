<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plugin Filters &mdash; asset_scanner  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/styles.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Processors" href="processors.html" />
    <link rel="prev" title="Output Plugins" href="output_plugins.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> asset_scanner
            <img src="https://artefacts.ceda.ac.uk/themes/orgtheme_ceda_div/0.3.2/_assets/img/ceda_logo_transp_white_h80.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Asset Scanner</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#installing">Installing</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#configuration">Configuration</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#plugins">Plugins</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="input_plugins.html">Input Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="output_plugins.html">Output Plugins</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Plugin Filters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#path-regex-filter">Path Regex Filter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="processors.html">Processors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../asset_generator/index.html">Asset Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../item_generator/index.html">Item Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../item_descriptions/item_descriptions.html">Item Descriptions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/asset_scanner/asset_scanner_api.html">Asset Scanner API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/asset_generator/api.html">Asset Generator API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/item_generator/item_generator_api.html">Item Generator API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">asset_scanner</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Asset Scanner</a> &raquo;</li>
      <li>Plugin Filters</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/asset_scanner/plugin_filters.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-asset_scanner.plugins.filters">
<span id="plugin-filters"></span><h1>Plugin Filters<a class="headerlink" href="#module-asset_scanner.plugins.filters" title="Permalink to this headline"></a></h1>
<p>In some cases, it might be useful to be able to filter the response from the
plugins. E.g ignoring certain paths.</p>
<p>If more than one filter is specified, all tests must pass before processing
will continue.</p>
<p>Plugin filters are loaded as named entry points with the namespace:
<code class="docutils literal notranslate"><span class="pre">asset_scanner.plugin_filters</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Plugin Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#path-regex-filter"><span class="std std-ref">Path Regex</span></a></p></td>
<td><p>Can be used to pattern match against the path to either include/exclude.</p></td>
</tr>
</tbody>
</table>
<span class="target" id="module-asset_scanner.plugins.filters.path_regex"></span><section id="path-regex-filter">
<h2>Path Regex Filter<a class="headerlink" href="#path-regex-filter" title="Permalink to this headline"></a></h2>
<p>Takes a filepath and matches against a regex pattern. This can be used to pre-filter
paths for processing. Can use the <code class="docutils literal notranslate"><span class="pre">exclude</span></code> flag to flip the regex match.</p>
<p><strong>Plugin name:</strong> <code class="docutils literal notranslate"><span class="pre">path_regex</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Value Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">regex</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REQUIRED</span></code> Pattern to match.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">exclude</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
<td><p>Optional flag to either include or exclude the matched path. False (0) will send only paths that match to processing. True (1)
will send all paths which do not match the regex for processing. <code class="docutils literal notranslate"><span class="pre">DEFAULT:</span> <span class="pre">False</span></code></p></td>
</tr>
</tbody>
</table>
<dl>
<dt>Example Configuration:</dt><dd><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">inputs</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">file_system</span>
      <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/badc/cmip5</span>
      <span class="nt">filters</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">path_regex</span>
          <span class="nt">regex</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">^\/badc\/cmip[56]\/.*files</span>
          <span class="nt">exclude</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
</pre></div>
</div>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="output_plugins.html" class="btn btn-neutral float-left" title="Output Plugins" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="processors.html" class="btn btn-neutral float-right" title="Processors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Richard Smith.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>