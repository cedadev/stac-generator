<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Asset Scanner API &mdash; asset_scanner  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/styles.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Asset Generator API" href="../asset_generator/api.html" />
    <link rel="prev" title="Building an Item Description" href="../../item_descriptions/building_a_workflow.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> asset_scanner
            <img src="https://artefacts.ceda.ac.uk/themes/orgtheme_ceda_div/0.3.2/_assets/img/ceda_logo_transp_white_h80.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../asset_scanner/index.html">Asset Scanner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../asset_generator/index.html">Asset Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../item_generator/index.html">Item Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../item_descriptions/item_descriptions.html">Item Descriptions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Asset Scanner API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#base-extractor">Base Extractor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#item-description">Item Description</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../asset_generator/api.html">Asset Generator API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../item_generator/item_generator_api.html">Item Generator API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">asset_scanner</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Asset Scanner API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/asset_scanner/asset_scanner_api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="asset-scanner-api">
<h1>Asset Scanner API<a class="headerlink" href="#asset-scanner-api" title="Permalink to this headline"></a></h1>
<p><em class="fa fa-github"></em> <a class="reference external" href="https://github.com/cedadev/asset-scanner">View on Github</a></p>
<span class="target" id="module-asset_scanner.core.extractor"></span><section id="base-extractor">
<h2>Base Extractor<a class="headerlink" href="#base-extractor" title="Permalink to this headline"></a></h2>
<p>This module provides the base class for all derived extractors.</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="asset_scanner.core.BaseExtractor">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">asset_scanner.core.</span></span><span class="sig-name descname"><span class="pre">BaseExtractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#asset_scanner.core.BaseExtractor" title="Permalink to this definition"></a></dt>
<dd><p>Base class to define an interface for other extractor classes</p>
<p>Attributes:</p>
<blockquote>
<div><dl class="simple">
<dt>PROCESSOR_ENTRY_POINT:</dt><dd><p>Defines the entry point to look for in the setup.py for the
downstream package. This is used by the <code class="docutils literal notranslate"><span class="pre">asset_scanner</span></code> command
to load the extractor if the extractor is not specifically defined
in the the configuration file.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<span class="target" id="module-asset_scanner.core.item_describer"></span><section id="item-description">
<h2>Item Description<a class="headerlink" href="#item-description" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="asset_scanner.core.item_describer.Category">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">asset_scanner.core.item_describer.</span></span><span class="sig-name descname"><span class="pre">Category</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#asset_scanner.core.item_describer.Category" title="Permalink to this definition"></a></dt>
<dd><p>Category label model.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="asset_scanner.core.item_describer.Collections">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">asset_scanner.core.item_describer.</span></span><span class="sig-name descname"><span class="pre">Collections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mappings</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overrides</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extraction_methods</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">templates</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#asset_scanner.core.item_describer.Templates" title="asset_scanner.core.item_describer.Templates"><span class="pre">asset_scanner.core.item_describer.Templates</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#asset_scanner.core.item_describer.Collections" title="Permalink to this definition"></a></dt>
<dd><p>Collections processor description model.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="asset_scanner.core.item_describer.Facets">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">asset_scanner.core.item_describer.</span></span><span class="sig-name descname"><span class="pre">Facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mappings</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overrides</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extraction_methods</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">templates</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#asset_scanner.core.item_describer.Templates" title="asset_scanner.core.item_describer.Templates"><span class="pre">asset_scanner.core.item_describer.Templates</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggregation_facets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_facets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#asset_scanner.core.item_describer.Facets" title="Permalink to this definition"></a></dt>
<dd><p>Facets processor description model.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="asset_scanner.core.item_describer.ItemDescription">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">asset_scanner.core.item_describer.</span></span><span class="sig-name descname"><span class="pre">ItemDescription</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collections</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#asset_scanner.core.item_describer.Collections" title="asset_scanner.core.item_describer.Collections"><span class="pre">asset_scanner.core.item_describer.Collections</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#asset_scanner.core.item_describer.Facets" title="asset_scanner.core.item_describer.Facets"><span class="pre">asset_scanner.core.item_describer.Facets</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#asset_scanner.core.item_describer.Category" title="asset_scanner.core.item_describer.Category"><span class="pre">asset_scanner.core.item_describer.Category</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#asset_scanner.core.item_describer.ItemDescription" title="Permalink to this definition"></a></dt>
<dd><p>Top level container for ItemDescriptions.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="asset_scanner.core.item_describer.ItemDescriptions">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">asset_scanner.core.item_describer.</span></span><span class="sig-name descname"><span class="pre">ItemDescriptions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filelist</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#asset_scanner.core.item_describer.ItemDescriptions" title="Permalink to this definition"></a></dt>
<dd><p>Holds references to all the description files and handles loading, merging
and returning an <a class="reference internal" href="#asset_scanner.core.item_describer.ItemDescription" title="asset_scanner.core.item_describer.ItemDescription"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ItemDescription</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="asset_scanner.core.item_describer.ItemDescriptions.get_description">
<span class="sig-name descname"><span class="pre">get_description</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#asset_scanner.core.item_describer.ItemDescription" title="asset_scanner.core.item_describer.ItemDescription"><span class="pre">asset_scanner.core.item_describer.ItemDescription</span></a></span></span><a class="headerlink" href="#asset_scanner.core.item_describer.ItemDescriptions.get_description" title="Permalink to this definition"></a></dt>
<dd><p>Get the merged description for the given file path.
This gets all the description files along the path
and merges them from top down so that more generic
descriptions are overridden.
e.g.</p>
<p>files describing <code class="docutils literal notranslate"><span class="pre">/badc</span></code> will be overridden by files
which describe <code class="docutils literal notranslate"><span class="pre">/badc/faam/data</span></code></p>
<p>Dict values are overridden by more specific files and
arrays are appended to, with duplicates ignored.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For remote filepaths (e.g. <a class="reference external" href="https://">https://</a>… or gs://) a <code class="docutils literal notranslate"><span class="pre">/</span></code>
character will be pre-pended. This is to enable the lookup
to pass as the root node of the tree is <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filepath</strong> – Path for which to retrieve the description</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="asset_scanner.core.item_describer.ItemDescriptions.load_config">
<span class="sig-name descname"><span class="pre">load_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#asset_scanner.core.item_describer.ItemDescriptions.load_config" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> – each arg is a filepath to a description file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary containing the merged properties of all the matching nodes</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="asset_scanner.core.item_describer.Processor">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">asset_scanner.core.item_describer.</span></span><span class="sig-name descname"><span class="pre">Processor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mappings</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overrides</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extraction_methods</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">templates</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#asset_scanner.core.item_describer.Templates" title="asset_scanner.core.item_describer.Templates"><span class="pre">asset_scanner.core.item_describer.Templates</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#asset_scanner.core.item_describer.Processor" title="Permalink to this definition"></a></dt>
<dd><p>Common model for processor.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="asset_scanner.core.item_describer.Templates">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">asset_scanner.core.item_describer.</span></span><span class="sig-name descname"><span class="pre">Templates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#asset_scanner.core.item_describer.Templates" title="Permalink to this definition"></a></dt>
<dd><p>Templates description model.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../item_descriptions/building_a_workflow.html" class="btn btn-neutral float-left" title="Building an Item Description" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../asset_generator/api.html" class="btn btn-neutral float-right" title="Asset Generator API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Richard Smith.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>