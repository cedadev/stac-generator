<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Asset Generator &mdash; asset_scanner  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/styles.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Item Generator" href="../item_generator/index.html" />
    <link rel="prev" title="Processors" href="../asset_scanner/processors.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> asset_scanner
            <img src="https://artefacts.ceda.ac.uk/themes/orgtheme_ceda_div/0.3.2/_assets/img/ceda_logo_transp_white_h80.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../asset_scanner/index.html">Asset Scanner</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Asset Generator</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#item-description-relevant-fields">Item Description Relevant Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample-configuration">Sample configuration:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../item_generator/index.html">Item Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../item_descriptions/item_descriptions.html">Item Descriptions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/asset_scanner/asset_scanner_api.html">Asset Scanner API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/asset_generator/api.html">Asset Generator API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/item_generator/item_generator_api.html">Item Generator API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">asset_scanner</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Asset Generator</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/asset_generator/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="asset-generator">
<h1>Asset Generator<a class="headerlink" href="#asset-generator" title="Permalink to this headline"></a></h1>
<p><em class="fa fa-github"></em> <a class="reference external" href="https://github.com/cedadev/asset-generator">View on Github</a></p>
<p>The asset generator indexes individual file objects.
The asset generator is used to gather file level metadata where
the file is the source of truth. i.e. Checksum, location, size, modified time.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h2>
<p>At present, not all the required libraries are available via package managers. To install, you’ll need to install the dependencies using the requirements.txt</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/cedadev/asset-extractor</span>
<span class="go">cd asset-extractor</span>
<span class="go">pip install -r requirements.txt</span>
<span class="go">pip install .</span>
</pre></div>
</div>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline"></a></h2>
<p>Configuration takes the form a YAML formatted file.
There is some dataset level configuration for labelling the file type (e.g. <code class="docutils literal notranslate"><span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">metadata</span></code>)
and is provided in the form of the <a class="reference external" href="https://cedadev.github.io/asset-scanner/item_descriptions.html">item description files</a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">item_descriptions.root_directory</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REQUIRED</span></code> Path to the top level directory containing your dataset specific pipelines</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">inputs</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REQUIRED</span></code> Must have at least one <a class="reference external" href="https://cedadev.github.io/asset-scanner/input_plugins.html">input plugin</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">outputs</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REQUIRED</span></code> Must have at least one <a class="reference external" href="https://cedadev.github.io/asset-scanner/output_plugins.html">output plugin</a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">extractor</span></code></p></td>
<td><p>The python import path to the extractor class. If not specified, it picks up the
class installed with the entry point <code class="docutils literal notranslate"><span class="pre">asset_scanner.extractors</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">media_handlers</span></code></p></td>
<td><p>Kwargs to be passed to the media handlers</p></td>
</tr>
</tbody>
</table>
<section id="item-description-relevant-fields">
<h3>Item Description Relevant Fields<a class="headerlink" href="#item-description-relevant-fields" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://cedadev.github.io/asset-scanner/item_descriptions.html#datasets">Datasets</a></p></li>
<li><p><a class="reference external" href="https://cedadev.github.io/asset-scanner/item_descriptions.html#categories">Categories</a></p></li>
</ul>
</section>
<section id="sample-configuration">
<h3>Sample configuration:<a class="headerlink" href="#sample-configuration" title="Permalink to this headline"></a></h3>
<blockquote>
<div><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">extractor</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">asset_generator.AssetExtractor</span>
<span class="nt">item_descriptions</span><span class="p">:</span>
  <span class="nt">root_directory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/etc/item-generator/item_descriptions/descriptions</span>
<span class="nt">inputs</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">file_system</span>
    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/badc/faam/data/2005/b069-jan-05</span>
<span class="nt">outputs</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">standard_out</span>
</pre></div>
</div>
</div></blockquote>
</section>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline"></a></h2>
<p>The tool is called using the <a class="reference external" href="https://cedadev.github.io/asset-scanner/usage.html">asset-scanner</a></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>usage: asset_scanner [-h] conf

Run the asset scanner as configured

positional arguments:
  conf        Path to a yaml configuration file

optional arguments:
  -h, --help  show this help message and exit
</pre></div>
</div>
<p>Example:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>asset_scanner conf/conf.yml
</pre></div>
</div>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../asset_scanner/processors.html" class="btn btn-neutral float-left" title="Processors" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../item_generator/index.html" class="btn btn-neutral float-right" title="Item Generator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Richard Smith.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>